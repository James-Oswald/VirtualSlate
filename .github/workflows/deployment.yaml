name: Build VirtualSlate
on:
  push: {}
  pull_request: {}
jobs:
  Build-Extension:
    runs-on: ubuntu-latest
    steps:
     - name: Updates Packages
       run: sudo apt-get update
     - name: Install Scons
       run: sudo apt-get -y install scons gcc-mingw-w64
     - name: Install Compiler
       run: yes | sudo apt-get install g++-mingw-w64-x86-64
     - name: Get Repo
       run: git clone --recurse-submodules --depth 1 https://github.com/James-Oswald/VirtualSlate.git
     - name: Build Extension
       run: platform=windows
       working-directory: VirtualSlate
     - name: Build
       id: build
       uses: manleydev/build-godot-action@v1.4.1
       with:
          name: VirtualSlate
          preset: win64
          debugMode: "false"
          projectDir: "VirtualSlate/project"
     - name: Upload Artifact
       uses: actions/upload-artifact@v3
       with:
          name: Client - win64
          path: ${{ github.workspace }}/${{ steps.build.outputs.build }}


